<VirtualHost *:80>

    DocumentRoot /www/example1
    ServerName www.example.com
    <Directory /www/example1/>
        RequireAll On
    </Directory>

    # Other directives here
</VirtualHost>

dict([("<VirtualHost *:4000>", dict([("DocumentRoot", "/www/example1"), ("ServerName", "www.example.com"), ("<Directory /www/example1/>", dict([("RequireAll", "On"), ("closing_tag", "</Directory>")])), ("#", "Other directives here"), ("closing_tag", "</VirtualHost>")]))])


FirstCall:

*conf_dict = {}

line = "<VirtualHost *:80>"

conf_dict = { "<VirtualHost *:80>" : INVOKE

SecondCall:

*conf_dict = {}

line = "DocumentRoot /www/example2"

conf_dict = { "DocumentRoot": "/www/example1" }

INVOKE

THRID CALL:

*conf_dict = { "DocumentRoot": "/www/example1" }

line = "ServerName www.example.com"

conf_dict = { "DocumentRoot": "/www/example1", "Servername": "www.example.com" }

INVOKE

FOUTH CALL:

*conf_dict =  { "DocumentRoot": "/www/example1", "Servername": "www.example.com" }

line = "<Directory /www/example1/>

conf_dict = {"<Directory /www/example1/>": INVOKE

FIFITH_CALL:

*conf_dict = {}

line = "RequireAll On"

conf_dict = {"RequireAll": "On" }

INVOKE

SIXTH_CALL:

*conf_dict = {"RquireAll": "On" }

line = "</Directory>"

conf_dict = {"RequireAll": "On", "close_tag": "</Directory>"}

INVOKE

<VirtualHost *:80>

    DocumentRoot /www/example1
    ServerName www.example.com
    <Directory /www/example1/>
        RequireAll On
    </Directory>

    BlahDirective bogusstuff
</VirtualHost>

SEVENTH_CALL:

*conf_dict = {"RequireAll": "On", "close_tag": "</Directory>"}

line = "BlahDirective bogusstuff"

conf_dict 






